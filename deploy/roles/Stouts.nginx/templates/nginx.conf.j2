# This file was generated by Ansible for {{ ansible_fqdn }}
# Do NOT modify this file by hand!

user  {{nginx_user}};
worker_processes  {{nginx_worker_processes}};

events {
    worker_connections  {{nginx_worker_connections}};
}


http {
    include       mime.types;
    default_type  application/octet-stream;

    sendfile        {{'on' if nginx_sendfile else 'off'}};

    keepalive_timeout  {{nginx_keepalive_timeout}};

    gzip  {{'on' if nginx_gzip else 'off'}};

    server_names_hash_bucket_size {{nginx_server_names_hash_bucket_size}};

    access_log {{nginx_access_log}};
    error_log {{nginx_error_log}};

    {% if nginx_http_options %}{% for name, value in nginx_http_options.items() %}
    {{name}} {{value}};
    {% endfor %}{% endif %}

    {% if nginx_servers %}{% for server in nginx_servers %}
    server {
      {% for option in server %}
      {{option}}
      {% endfor %}
    }
    {% endfor %}{% endif %}

    include {{nginx_dir}}/conf.d/*.conf;
    include {{nginx_sites_dir}}/*;

}
